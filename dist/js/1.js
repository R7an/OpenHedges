<<<<<<< HEAD
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{354:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(49);var a=_(n);var u=r(359);var o=r(367);var l=r(363);var i=r(391);var f=_(i);var c=r(382);var s=_(c);var d=r(443);var v=_(d);var p=r(381);function _(e){return e&&e.__esModule?e:{default:e}}if(localStorage.getItem("jwtToken")){v.default.dispatch((0,p.reAuthorize)(localStorage.getItem("jwtToken")))}var h=function e(){return a.default.createElement(u.Provider,{store:v.default},a.default.createElement(l.ConnectedRouter,{history:s.default},a.default.createElement(o.Route,{component:f.default})))};var y=false?undefined:undefined;var m=false?undefined:h;t.default=m},360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(381);var a=f(n);var u=r(422);var o=f(u);var l=r(423);var i=f(l);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={actions:a,constants:o,permission:i}},362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseActionType=l;t.getActionSubject=i;t.getActionState=f;t.updateObjectState=c;var n=t.okState="FULFILLED";var a=t.failState="REJECTED";var u=t.ok=function e(t){return t+"_"+n};var o=t.fail=function e(t){return t+"_"+a};function l(e){var t=e.type.split("/");var r=t[0];var n=t.length>1?t[1]:t[0];var a=n.split("_").concat(["","",""]);return{module:r,act:a[0],sub:a[1],stat:a[2],tokens:a}}function i(e){var t=e.type.split("_").concat(["","",""]);return t[1]}function f(e){var t=e.type.split("_").concat(["","",""]);return t[2]}function c(e,t){var r=e.type.split("_").concat(["","",""]);switch(r[2]){case"":t.fetching=true;t.fetched=false;t.error=null;break;case"REJECTED":t.fetching=false;t.fetched=true;t.error=e.payload;break;case"FULFILLED":t.fetching=false;t.fetched=true;t.error=null;break}}},365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(395);var a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}var o=a.default.create({timeout:1*60*60*1e3,params:{}});o.interceptors.request.use(function(e){if(e.url.startsWith("/api/auth/")){e.headers.authorization=localStorage.getItem("jwtToken")}return e},function(e){return Promise.reject(e)});t.default=o},371:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(392);var a=_(n);var u=r(374);var o=_(u);var l=r(417);var i=_(l);var f=r(425);var c=_(f);var s=r(429);var d=_(s);var v=r(433);var p=_(v);function _(e){return e&&e.__esModule?e:{default:e}}t.default=[a.default,o.default,i.default,c.default,d.default,p.default]},372:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="user"},373:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={email:"",name:"",photo:"",permissions:[]}},374:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(394);var a=c(n);var u=r(380);var o=c(u);var l=r(416);var i=f(l);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={actions:a,constants:o,reducer:i.default}},380:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="misc"},381:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.reAuthorize=d;t.signup=v;t.login=p;t.logout=_;var n=r(365);var a=c(n);var u=r(363);var o=r(421);var l=f(o);var i=r(362);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var o=t[a](u);var l=o.value}catch(e){r(e);return}if(o.done){e(l)}else{return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}}return n("next")})}}function d(e,t){var r=this;if(typeof e!=="string")throw Error("invalid argument: token must be a string");return function(){var n=s(regeneratorRuntime.mark(function n(o){var f;return regeneratorRuntime.wrap(function r(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return a.default.post("/api/reauth",{token:e});case 3:f=n.sent;o({type:(0,i.ok)(l.REAUTH_USER),payload:f.data});if(t)o((0,u.push)(t));n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](0);o({type:(0,i.fail)(l.REAUTH_USER),payload:n.t0.response.data.error});case 11:case"end":return n.stop()}}},n,r,[[0,8]])}));return function(e){return n.apply(this,arguments)}}()}function v(e){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"/";return function(){var n=s(regeneratorRuntime.mark(function n(o){var f;return regeneratorRuntime.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return a.default.post("/api/signup",e);case 3:f=n.sent;o({type:(0,i.ok)(l.AUTH_USER),payload:f.data});o((0,u.push)(r));n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](0);o({type:(0,i.fail)(l.AUTH_USER),payload:n.t0.response.data.error});case 11:case"end":return n.stop()}}},n,t,[[0,8]])}));return function(e){return n.apply(this,arguments)}}()}function p(e){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"/";return function(){var n=s(regeneratorRuntime.mark(function n(o){var f;return regeneratorRuntime.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:o({type:l.AUTH_USER});n.prev=1;n.next=4;return a.default.post("/api/login",e);case 4:f=n.sent;o({type:(0,i.ok)(l.AUTH_USER),payload:f.data});o((0,u.push)(r));n.next=12;break;case 9:n.prev=9;n.t0=n["catch"](1);o({type:(0,i.fail)(l.AUTH_USER),payload:"Incorrect username/password"});case 12:case"end":return n.stop()}}},n,t,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}function _(){return[{type:(0,i.ok)(l.UNAUTH_USER)},{type:"CLEAR_STORE"}]}},382:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(357);var a=r(439);var u=l(a);var o=r(440);function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.default)((0,n.createBrowserHistory)(),o.stringify,o.parse)},391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(49);var a=p(n);var u=r(367);var o=r(133);var l=p(o);var i=r(371);var f=p(i);var c=r(360);var s=p(c);var d=r(436);var v=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var _=(0,l.default)({loader:function e(){return r.e(2).then(r.t.bind(null,448,7))}});var h=s.default.permission.verify.custom(["advanced"],a.default.createElement("p",null,"Your permission is not enough."));var y=h(_);t.default=function(){return a.default.createElement(v.default,null,a.default.createElement(u.Switch,null,a.default.createElement(u.Route,{exact:true,path:"/",component:_}),a.default.createElement(u.Route,{path:"/advanced-permission",component:y}),f.default.filter(function(e){return e.route}).map(function(e){return a.default.createElement(u.Route,{key:e.constants.NAME,path:"/"+e.constants.NAME,component:e.route})}),a.default.createElement(u.Redirect,{to:"/"})))}},392:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(372);var a=c(n);var u=r(393);var o=f(u);var l=r(373);var i=f(l);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:a,reducer:o.default,model:i.default}},393:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};t.default=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:d;var t=arguments[1];var r=l.parseActionType(t);if(t.type==="@@router/LOCATION_CHANGE"){return n({},e,{error:null})}if(r.module!==u.NAME)return e;if(r.sub==="USER"){return n({},e,v(t,e))}return e};var a=r(372);var u=s(a);var o=r(362);var l=s(o);var i=r(373);var f=c(i);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var d=n({},f.default,{authorized:false,fetching:false,fetched:false,error:null});function v(e,t){var r=l.parseActionType(e),a=r.stat,u=r.act;if(a===l.failState&&u==="REAUTH"){t.authorized=false;t.permissions=[];localStorage.removeItem("jwtToken")}if(a===l.okState){if(u==="AUTH"||u==="REAUTH"){var o=e.payload.user;t=n({},t,o,{authorized:true});if(e.payload.token){localStorage.setItem("jwtToken",e.payload.token)}}}if(u==="UNAUTH"){t.authorized=false;t.permissions=[];localStorage.removeItem("jwtToken")}l.updateObjectState(e,t);return t}},394:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fetchMessage=s;var n=r(365);var a=f(n);var u=r(415);var o=i(u);var l=r(362);function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,u){try{var o=t[a](u);var l=o.value}catch(e){r(e);return}if(o.done){e(l)}else{return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}}return n("next")})}}function s(){var e=this;return function(){var t=c(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:r({type:o.FETCH_MESSAGE});t.prev=1;t.next=4;return a.default.get("/api/auth/fetchMessage");case 4:n=t.sent;r({type:(0,l.ok)(o.FETCH_MESSAGE),payload:n.data.message});t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);r({type:(0,l.fail)(o.FETCH_MESSAGE),payload:t.t0.response.data});case 11:case"end":return t.stop()}}},t,e,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}},415:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.FETCH_MESSAGE="misc/FETCH_MESSAGE"},416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};t.default=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:f;var t=arguments[1];var r=l.parseActionType(t);if(r.module!==u.NAME)return e;if(r.act==="FETCH"&&r.sub==="MESSAGE"){return n({},e,{message:t.payload})}return e};var a=r(380);var u=i(a);var o=r(362);var l=i(o);function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var f={message:""}},417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(418);var a=i(n);var u=r(419);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:a,route:o.default}},418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="login"},419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(420);var a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}t.default=a.default},420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=undefined;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a,u;var o=r(49);var l=v(o);var i=r(132);var f=v(i);var c=r(359);var s=r(360);var d=v(s);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=(a=(0,c.connect)(function(e){return{user:e.user}}),a(u=function(e){y(t,e);function t(){_(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={email:"",password:""};e.handleSubmit=e.handleSubmit.bind(e);e.handleChange=e.handleChange.bind(e);return e}n(t,[{key:"componentDidMount",value:function e(){}},{key:"handleChange",value:function e(t){this.setState(p({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function e(t){t.preventDefault();this.props.dispatch(d.default.actions.login(this.state,"/basic-permission"))}},{key:"render",value:function e(){var t=this.props.user;if(t.authorized){return l.default.createElement("p",null,"You are logged in as ",t.name," already.")}return l.default.createElement("form",null,l.default.createElement("label",null,"Email:"),l.default.createElement("input",{required:true,name:"email",type:"text",placeholder:"email@host",value:this.state.email,onChange:this.handleChange}),l.default.createElement("label",null,"Password:"),l.default.createElement("input",{required:true,name:"password",type:"password",placeholder:"********",value:this.state.password,onChange:this.handleChange}),l.default.createElement("button",{type:"submit",onClick:this.handleSubmit},"Login"),l.default.createElement("br",null),l.default.createElement("p",null,t.error))}}]);return t}(l.default.Component))||u);m.propTypes={dispatch:f.default.func,user:f.default.object};t.default=m},421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.AUTH_USER="user/AUTH_USER";var a=t.UNAUTH_USER="user/UNAUTH_USER";var u=t.REAUTH_USER="user/REAUTH_USER"},422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="auth"},423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.verify=undefined;var n=r(424);var a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}var o=t.verify={basic:function e(t,r){return(0,a.default)(["basic"],r)(t)},advanced:function e(t,r){return(0,a.default)(["advanced"],r)(t)},custom:a.default}},424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();t.default=v;var a=r(49);var u=f(a);var o=r(132);var l=f(o);var i=r(359);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function v(e,t){return function(r){var a,o;var f=(a=(0,i.connect)(function(e){return{user:e.user}}),a(o=function(a){d(o,a);function o(e){c(this,o);return s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e))}n(o,[{key:"render",value:function n(){var a=this.props.user;var o=e.map(function(e){return a.permissions.includes(e)}).reduce(function(e,t){return e|t},false);if(a.authorized&&o){return u.default.createElement(r,this.props)}else{if(t)return t;else return u.default.createElement("div",null)}}}]);return o}(u.default.Component))||o);f.propTypes={user:l.default.object};return f}}},425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(426);var a=i(n);var u=r(427);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:a,route:o.default}},426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="logout"},427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(428);var a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}t.default=a.default},428:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=undefined;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a,u;var o=r(49);var l=v(o);var i=r(132);var f=v(i);var c=r(359);var s=r(360);var d=v(s);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=(a=(0,c.connect)(function(e){return{}}),a(u=function(e){h(t,e);function t(){p(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"componentDidMount",value:function e(){this.props.dispatch(d.default.actions.logout())}},{key:"render",value:function e(){return l.default.createElement("div",null,"See you again!")}}]);return t}(l.default.Component))||u);y.propTypes={dispatch:f.default.func};t.default=y},429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(430);var a=i(n);var u=r(431);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:a,route:o.default}},430:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="signup"},431:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(432);var a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}t.default=a.default},432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=undefined;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a,u;var o=r(49);var l=v(o);var i=r(132);var f=v(i);var c=r(359);var s=r(360);var d=v(s);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=(a=(0,c.connect)(function(e){return{user:e.user}}),a(u=function(e){y(t,e);function t(){_(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={email:"",password:"",confirmedPassword:"",name:""};e.handleSubmit=e.handleSubmit.bind(e);e.handleChange=e.handleChange.bind(e);return e}n(t,[{key:"componentDidMount",value:function e(){}},{key:"handleChange",value:function e(t){this.setState(p({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function e(t){t.preventDefault();this.props.dispatch(d.default.actions.signup(this.state))}},{key:"render",value:function e(){var t=this.props.user;return l.default.createElement("form",null,l.default.createElement("label",null,"Email:"),l.default.createElement("input",{required:true,name:"email",type:"email",placeholder:"email@host",value:this.state.email,onChange:this.handleChange}),l.default.createElement("label",null,"Username:"),l.default.createElement("input",{required:true,name:"name",type:"text",placeholder:"User name",value:this.state.name,onChange:this.handleChange}),l.default.createElement("label",null,"Password:"),l.default.createElement("input",{required:true,name:"password",type:"password",placeholder:"********",value:this.state.password,onChange:this.handleChange}),l.default.createElement("label",null,"Confirmed Password:"),l.default.createElement("input",{required:true,name:"confirmedPassword",type:"password",placeholder:"********",value:this.state.confirmedPassword,onChange:this.handleChange}),l.default.createElement("button",{type:"submit",onClick:this.handleSubmit},"Signup"),l.default.createElement("br",null),l.default.createElement("p",null,t.error))}}]);return t}(l.default.Component))||u);m.propTypes={dispatch:f.default.func,user:f.default.object};t.default=m},433:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(434);var a=i(n);var u=r(435);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:a,route:o.default}},434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=t.NAME="basic-permission"},435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(360);var a=l(n);var u=r(133);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)({loader:function e(){return r.e(3).then(r.t.bind(null,450,7))}});t.default=a.default.permission.verify.basic(i)},436:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(49);var a=s(n);var u=r(132);var o=s(u);var l=r(437);var i=s(l);var f=r(438);var c=s(f);function s(e){return e&&e.__esModule?e:{default:e}}var d={children:o.default.node.isRequired};var v={};var p=function e(t){var r=t.children;return a.default.createElement("div",null,a.default.createElement(i.default,null),r,a.default.createElement(c.default,null))};p.propTypes=d;p.defaultProps=v;t.default=p},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(49);var a=o(n);var u=r(367);function o(e){return e&&e.__esModule?e:{default:e}}var l=function e(){return a.default.createElement("header",null,a.default.createElement(u.Link,{to:"/"},"Home"),a.default.createElement("br",null),a.default.createElement(u.Link,{to:"/basic-permission"},"Basic Permission Test"),a.default.createElement("br",null),a.default.createElement(u.Link,{to:"/advanced-permission"},"Advanced Permission Test"),a.default.createElement("br",null),a.default.createElement(u.Link,{to:"/login"},"Login"),a.default.createElement("br",null),a.default.createElement(u.Link,{to:"/signup"},"Signup"),a.default.createElement("br",null),a.default.createElement(u.Link,{to:"/logout"},"Logout"),a.default.createElement("br",null),a.default.createElement("hr",null))};t.default=l},438:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(49);var a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}var o=function e(){return a.default.createElement("footer",null,a.default.createElement("hr",null),a.default.createElement("p",null,"Footer"))};t.default=o},443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(364);var a=r(444);var u=r(445);var o=h(u);var l=r(446);var i=h(l);var f=r(451);var c=h(f);var s=r(363);var d=r(382);var v=h(d);var p=r(447);var _=h(p);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}var m=[i.default,(0,c.default)(),o.default,(0,s.routerMiddleware)(v.default)].concat(false?undefined:[]);function b(e,t){var r=(0,n.createStore)(e,t);if(false){}return r}t.default=b(_.default,n.applyMiddleware.apply(undefined,y(m)))},447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(364);var a=r(363);var u=r(371);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var i={};o.default.filter(function(e){return e.reducer}).forEach(function(e){i[e.constants.NAME]=e.reducer});i.router=a.routerReducer;var f=(0,n.combineReducers)(i);var c=function e(t,r){if(r.type==="CLEAR_STORE"){t=undefined}return f(t,r)};t.default=c}}]);
=======
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{352:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(49);var n=m(a);var u=r(356);var o=r(364);var l=r(361);var i=r(455);var f=m(i);var c=r(377);var s=m(c);var d=r(400);var v=m(d);var p=r(378);function m(e){return e&&e.__esModule?e:{default:e}}if(localStorage.getItem("jwtToken")){v.default.dispatch((0,p.reAuthorize)(localStorage.getItem("jwtToken")))}var _=function e(){return n.default.createElement(u.Provider,{store:v.default},n.default.createElement(l.ConnectedRouter,{history:s.default},n.default.createElement(o.Route,{component:f.default})))};var h=false?undefined:undefined;var y=false?undefined:_;t.default=y},357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(378);var n=f(a);var u=r(424);var o=f(u);var l=r(423);var i=f(l);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={actions:n,constants:o,permission:i}},362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseActionType=l;t.getActionSubject=i;t.getActionState=f;t.updateObjectState=c;var a=t.okState="FULFILLED";var n=t.failState="REJECTED";var u=t.ok=function e(t){return t+"_"+a};var o=t.fail=function e(t){return t+"_"+n};function l(e){var t=e.type.split("/");var r=t[0];var a=t.length>1?t[1]:t[0];var n=a.split("_").concat(["","",""]);return{module:r,act:n[0],sub:n[1],stat:n[2],tokens:n}}function i(e){var t=e.type.split("_").concat(["","",""]);return t[1]}function f(e){var t=e.type.split("_").concat(["","",""]);return t[2]}function c(e,t){var r=e.type.split("_").concat(["","",""]);switch(r[2]){case"":t.fetching=true;t.fetched=false;t.error=null;break;case"REJECTED":t.fetching=false;t.fetched=true;t.error=e.payload;break;case"FULFILLED":t.fetching=false;t.fetched=true;t.error=null;break}}},377:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(374);var n=r(404);var u=l(n);var o=r(403);function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.default)((0,a.createBrowserHistory)(),o.stringify,o.parse)},378:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.reAuthorize=d;t.signup=v;t.login=p;t.logout=m;var a=r(385);var n=c(a);var u=r(361);var o=r(425);var l=f(o);var i=r(362);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,u){try{var o=t[n](u);var l=o.value}catch(e){r(e);return}if(o.done){e(l)}else{return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)})}}return a("next")})}}function d(e,t){var r=this;if(typeof e!=="string")throw Error("invalid argument: token must be a string");return function(){var a=s(regeneratorRuntime.mark(function a(o){var f;return regeneratorRuntime.wrap(function r(a){while(1){switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return n.default.post("/api/reauth",{token:e});case 3:f=a.sent;o({type:(0,i.ok)(l.REAUTH_USER),payload:f.data});if(t)o((0,u.push)(t));a.next=11;break;case 8:a.prev=8;a.t0=a["catch"](0);o({type:(0,i.fail)(l.REAUTH_USER),payload:a.t0.response.data.error});case 11:case"end":return a.stop()}}},a,r,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}function v(e){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"/";return function(){var a=s(regeneratorRuntime.mark(function a(o){var f;return regeneratorRuntime.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return n.default.post("/api/signup",e);case 3:f=a.sent;o({type:(0,i.ok)(l.AUTH_USER),payload:f.data});o((0,u.push)(r));a.next=11;break;case 8:a.prev=8;a.t0=a["catch"](0);o({type:(0,i.fail)(l.AUTH_USER),payload:a.t0.response.data.error});case 11:case"end":return a.stop()}}},a,t,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}function p(e){var t=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"/";return function(){var a=s(regeneratorRuntime.mark(function a(o){var f;return regeneratorRuntime.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:o({type:l.AUTH_USER});a.prev=1;a.next=4;return n.default.post("/api/login",e);case 4:f=a.sent;o({type:(0,i.ok)(l.AUTH_USER),payload:f.data});o((0,u.push)(r));a.next=12;break;case 9:a.prev=9;a.t0=a["catch"](1);o({type:(0,i.fail)(l.AUTH_USER),payload:"Incorrect username/password"});case 12:case"end":return a.stop()}}},a,t,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()}function m(){return[{type:(0,i.ok)(l.UNAUTH_USER)},{type:"CLEAR_STORE"}]}},379:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="misc"},385:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(451);var n=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var o=n.default.create({timeout:1*60*60*1e3,params:{}});o.interceptors.request.use(function(e){if(e.url.startsWith("/api/auth/")){e.headers.authorization=localStorage.getItem("jwtToken")}return e},function(e){return Promise.reject(e)});t.default=o},386:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(452);var n=c(a);var u=r(379);var o=c(u);var l=r(430);var i=f(l);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={actions:n,constants:o,reducer:i.default}},387:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={email:"",name:"",photo:"",permissions:[]}},388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="user"},389:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(454);var n=m(a);var u=r(386);var o=m(u);var l=r(429);var i=m(l);var f=r(421);var c=m(f);var s=r(417);var d=m(s);var v=r(413);var p=m(v);function m(e){return e&&e.__esModule?e:{default:e}}t.default=[n.default,o.default,i.default,c.default,d.default,p.default]},396:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(393);var n=r(361);var u=r(389);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var i={};o.default.filter(function(e){return e.reducer}).forEach(function(e){i[e.constants.NAME]=e.reducer});i.router=n.routerReducer;var f=(0,a.combineReducers)(i);var c=function e(t,r){if(r.type==="CLEAR_STORE"){t=undefined}return f(t,r)};t.default=c},400:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(393);var n=r(399);var u=r(398);var o=_(u);var l=r(397);var i=_(l);var f=r(395);var c=_(f);var s=r(361);var d=r(377);var v=_(d);var p=r(396);var m=_(p);function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}var y=[i.default,(0,c.default)(),o.default,(0,s.routerMiddleware)(v.default)].concat(false?undefined:[]);function b(e,t){var r=(0,a.createStore)(e,t);if(false){}return r}t.default=b(m.default,a.applyMiddleware.apply(undefined,h(y)))},407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(49);var n=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var o=function e(){return n.default.createElement("footer",null,n.default.createElement("div",{className:"footer-inner"},n.default.createElement("div",{className:"footer-item"},n.default.createElement("div",{className:"avatar"}),n.default.createElement("div",{className:"item-text-container"},n.default.createElement("div",{className:"item-text"},"Someone invested X"),n.default.createElement("div",{className:"item-time"},"11 hours ago"))),n.default.createElement("div",{className:"footer-item"},n.default.createElement("div",{className:"avatar"}),n.default.createElement("div",{className:"item-text-container"},n.default.createElement("div",{className:"item-text"},"Someone invested X"),n.default.createElement("div",{className:"item-time"},"18 hours ago"))),n.default.createElement("div",{className:"footer-item"},n.default.createElement("div",{className:"avatar"}),n.default.createElement("div",{className:"item-text-container"},n.default.createElement("div",{className:"item-text"},"Someone invested X"),n.default.createElement("div",{className:"item-time"},"22 hours ago"))),n.default.createElement("div",{className:"footer-item"},n.default.createElement("div",{className:"avatar"}),n.default.createElement("div",{className:"item-text-container"},n.default.createElement("div",{className:"item-text"},"Someone invested X"),n.default.createElement("div",{className:"item-time"},"2 days ago"))),n.default.createElement("div",{className:"footer-item"},n.default.createElement("div",{className:"avatar"}),n.default.createElement("div",{className:"item-text-container"},n.default.createElement("div",{className:"item-text"},"Someone invested X"),n.default.createElement("div",{className:"item-time"},"2 days ago")))))};t.default=o},408:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(49);var n=o(a);var u=r(364);function o(e){return e&&e.__esModule?e:{default:e}}var l=function e(){return n.default.createElement("header",null,n.default.createElement("div",{className:"header-inner"},n.default.createElement(u.Link,{to:"/",className:"nav-item logo-link"},"Open Hedge"),n.default.createElement("div",{className:"header-links"},n.default.createElement(u.Link,{to:"/concept",className:"nav-item"},"Concept"),n.default.createElement(u.Link,{to:"/rules",className:"nav-item"},"Investors"),n.default.createElement(u.Link,{to:"/analysts-traders",className:"nav-item"},"Analysts/Traders"),n.default.createElement(u.Link,{to:"/blog",className:"nav-item"},"Blog"),n.default.createElement("button",{className:"nav-item btn btn-sign-up"},"Sign Up"))))};t.default=l},409:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(49);var n=s(a);var u=r(130);var o=s(u);var l=r(408);var i=s(l);var f=r(407);var c=s(f);function s(e){return e&&e.__esModule?e:{default:e}}var d={children:o.default.node.isRequired};var v={};var p=function e(t){var r=t.children;return n.default.createElement("div",{className:"app-container"},n.default.createElement(i.default,null),r,n.default.createElement(c.default,null))};p.propTypes=d;p.defaultProps=v;t.default=p},411:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(357);var n=l(a);var u=r(131);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)({loader:function e(){return r.e(5).then(function(){var e=r(410);return typeof e==="object"&&e&&e.__esModule?e:Object.assign({},typeof e==="object"&&e,{default:e})})}});t.default=n.default.permission.verify.basic(i)},412:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="basic-permission"},413:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(412);var n=i(a);var u=r(411);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:n,route:o.default}},414:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=undefined;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();var n,u;var o=r(49);var l=v(o);var i=r(130);var f=v(i);var c=r(356);var s=r(357);var d=v(s);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=(n=(0,c.connect)(function(e){return{user:e.user}}),n(u=function(e){h(t,e);function t(){m(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={email:"",password:"",confirmedPassword:"",name:""};e.handleSubmit=e.handleSubmit.bind(e);e.handleChange=e.handleChange.bind(e);return e}a(t,[{key:"componentDidMount",value:function e(){}},{key:"handleChange",value:function e(t){this.setState(p({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function e(t){t.preventDefault();this.props.dispatch(d.default.actions.signup(this.state))}},{key:"render",value:function e(){var t=this.props.user;return l.default.createElement("form",null,l.default.createElement("label",null,"Email:"),l.default.createElement("input",{required:true,name:"email",type:"email",placeholder:"email@host",value:this.state.email,onChange:this.handleChange}),l.default.createElement("label",null,"Username:"),l.default.createElement("input",{required:true,name:"name",type:"text",placeholder:"User name",value:this.state.name,onChange:this.handleChange}),l.default.createElement("label",null,"Password:"),l.default.createElement("input",{required:true,name:"password",type:"password",placeholder:"********",value:this.state.password,onChange:this.handleChange}),l.default.createElement("label",null,"Confirmed Password:"),l.default.createElement("input",{required:true,name:"confirmedPassword",type:"password",placeholder:"********",value:this.state.confirmedPassword,onChange:this.handleChange}),l.default.createElement("button",{type:"submit",onClick:this.handleSubmit},"Signup"),l.default.createElement("br",null),l.default.createElement("p",null,t.error))}}]);return t}(l.default.Component))||u);y.propTypes={dispatch:f.default.func,user:f.default.object};t.default=y},415:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(414);var n=u(a);function u(e){return e&&e.__esModule?e:{default:e}}t.default=n.default},416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="signup"},417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(416);var n=i(a);var u=r(415);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:n,route:o.default}},418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=undefined;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();var n,u;var o=r(49);var l=v(o);var i=r(130);var f=v(i);var c=r(356);var s=r(357);var d=v(s);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=(n=(0,c.connect)(function(e){return{}}),n(u=function(e){_(t,e);function t(){p(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}a(t,[{key:"componentDidMount",value:function e(){this.props.dispatch(d.default.actions.logout())}},{key:"render",value:function e(){return l.default.createElement("div",null,"See you again!")}}]);return t}(l.default.Component))||u);h.propTypes={dispatch:f.default.func};t.default=h},419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(418);var n=u(a);function u(e){return e&&e.__esModule?e:{default:e}}t.default=n.default},420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="logout"},421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(420);var n=i(a);var u=r(419);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:n,route:o.default}},422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();t.default=v;var n=r(49);var u=f(n);var o=r(130);var l=f(o);var i=r(356);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function v(e,t){return function(r){var n,o;var f=(n=(0,i.connect)(function(e){return{user:e.user}}),n(o=function(n){d(o,n);function o(e){c(this,o);return s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e))}a(o,[{key:"render",value:function a(){var n=this.props.user;var o=e.map(function(e){return n.permissions.includes(e)}).reduce(function(e,t){return e|t},false);if(n.authorized&&o){return u.default.createElement(r,this.props)}else{if(t)return t;else return u.default.createElement("div",null)}}}]);return o}(u.default.Component))||o);f.propTypes={user:l.default.object};return f}}},423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.verify=undefined;var a=r(422);var n=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var o=t.verify={basic:function e(t,r){return(0,n.default)(["basic"],r)(t)},advanced:function e(t,r){return(0,n.default)(["advanced"],r)(t)},custom:n.default}},424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="auth"},425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.AUTH_USER="user/AUTH_USER";var n=t.UNAUTH_USER="user/UNAUTH_USER";var u=t.REAUTH_USER="user/REAUTH_USER"},426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=undefined;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}();var n,u;var o=r(49);var l=v(o);var i=r(130);var f=v(i);var c=r(356);var s=r(357);var d=v(s);function v(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=(n=(0,c.connect)(function(e){return{user:e.user}}),n(u=function(e){h(t,e);function t(){m(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={email:"",password:""};e.handleSubmit=e.handleSubmit.bind(e);e.handleChange=e.handleChange.bind(e);return e}a(t,[{key:"componentDidMount",value:function e(){}},{key:"handleChange",value:function e(t){this.setState(p({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function e(t){t.preventDefault();this.props.dispatch(d.default.actions.login(this.state,"/basic-permission"))}},{key:"render",value:function e(){var t=this.props.user;if(t.authorized){return l.default.createElement("p",null,"You are logged in as ",t.name," already.")}return l.default.createElement("form",null,l.default.createElement("label",null,"Email:"),l.default.createElement("input",{required:true,name:"email",type:"text",placeholder:"email@host",value:this.state.email,onChange:this.handleChange}),l.default.createElement("label",null,"Password:"),l.default.createElement("input",{required:true,name:"password",type:"password",placeholder:"********",value:this.state.password,onChange:this.handleChange}),l.default.createElement("button",{type:"submit",onClick:this.handleSubmit},"Login"),l.default.createElement("br",null),l.default.createElement("p",null,t.error))}}]);return t}(l.default.Component))||u);y.propTypes={dispatch:f.default.func,user:f.default.object};t.default=y},427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(426);var n=u(a);function u(e){return e&&e.__esModule?e:{default:e}}t.default=n.default},428:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.NAME="login"},429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(428);var n=i(a);var u=r(427);var o=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:n,route:o.default}},430:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){e[a]=r[a]}}}return e};t.default=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:f;var t=arguments[1];var r=l.parseActionType(t);if(r.module!==u.NAME)return e;if(r.act==="FETCH"&&r.sub==="MESSAGE"){return a({},e,{message:t.payload})}return e};var n=r(379);var u=i(n);var o=r(362);var l=i(o);function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var f={message:""}},431:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=t.FETCH_MESSAGE="misc/FETCH_MESSAGE"},452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fetchMessage=s;var a=r(385);var n=f(a);var u=r(431);var o=i(u);var l=r(362);function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,u){try{var o=t[n](u);var l=o.value}catch(e){r(e);return}if(o.done){e(l)}else{return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)})}}return a("next")})}}function s(){var e=this;return function(){var t=c(regeneratorRuntime.mark(function t(r){var a;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:r({type:o.FETCH_MESSAGE});t.prev=1;t.next=4;return n.default.get("/api/auth/fetchMessage");case 4:a=t.sent;r({type:(0,l.ok)(o.FETCH_MESSAGE),payload:a.data.message});t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);r({type:(0,l.fail)(o.FETCH_MESSAGE),payload:t.t0.response.data});case 11:case"end":return t.stop()}}},t,e,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}},453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)){e[a]=r[a]}}}return e};t.default=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:d;var t=arguments[1];var r=l.parseActionType(t);if(t.type==="@@router/LOCATION_CHANGE"){return a({},e,{error:null})}if(r.module!==u.NAME)return e;if(r.sub==="USER"){return a({},e,v(t,e))}return e};var n=r(388);var u=s(n);var o=r(362);var l=s(o);var i=r(387);var f=c(i);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var d=a({},f.default,{authorized:false,fetching:false,fetched:false,error:null});function v(e,t){var r=l.parseActionType(e),n=r.stat,u=r.act;if(n===l.failState&&u==="REAUTH"){t.authorized=false;t.permissions=[];localStorage.removeItem("jwtToken")}if(n===l.okState){if(u==="AUTH"||u==="REAUTH"){var o=e.payload.user;t=a({},t,o,{authorized:true});if(e.payload.token){localStorage.setItem("jwtToken",e.payload.token)}}}if(u==="UNAUTH"){t.authorized=false;t.permissions=[];localStorage.removeItem("jwtToken")}l.updateObjectState(e,t);return t}},454:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(388);var n=c(a);var u=r(453);var o=f(u);var l=r(387);var i=f(l);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}t.default={constants:n,reducer:o.default,model:i.default}},455:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(49);var n=p(a);var u=r(364);var o=r(131);var l=p(o);var i=r(389);var f=p(i);var c=r(357);var s=p(c);var d=r(409);var v=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,l.default)({loader:function e(){return r.e(4).then(function(){var e=r(406);return typeof e==="object"&&e&&e.__esModule?e:Object.assign({},typeof e==="object"&&e,{default:e})})}});var _=s.default.permission.verify.custom(["advanced"],n.default.createElement("p",null,"Your permission is not enough."));var h=_(m);t.default=function(){return n.default.createElement(v.default,null,n.default.createElement(u.Switch,null,n.default.createElement(u.Route,{exact:true,path:"/",component:m}),n.default.createElement(u.Route,{path:"/advanced-permission",component:h}),f.default.filter(function(e){return e.route}).map(function(e){return n.default.createElement(u.Route,{key:e.constants.NAME,path:"/"+e.constants.NAME,component:e.route})}),n.default.createElement(u.Redirect,{to:"/"})))}}}]);
>>>>>>> 1e5b81a4111df6b9c69c0b83363ff1272d6aec4c
